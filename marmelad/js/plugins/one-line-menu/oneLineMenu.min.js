!function(a){a.fn.oneLineMenu=function(b){var c=a.extend({minWidth:1024,lastClass:"dropdown-wrap",left:-25,ulClass:"dropdown-ul"},b);return this.each(function(){function g(){var h,i,f=0,g=b.width();d.each(function(b){var c=a(this).width(),e=parseFloat(a(this).css("marginLeft")),j=parseFloat(a(this).css("marginRight"));c=c+e+j,f+=c;var k=0,l=0,m=0;if(a(this).next().get(0)&&(k=a(this).next().width(),l=parseFloat(a(this).next().css("marginLeft")),m=parseFloat(a(this).next().css("marginRight"))),k=k+l+m,g<f+k)return h=d.slice(0),i=h.splice(b,d.length-b),!1});var j={copy:h,toHide:i};if(j.copy&&j.toHide){b.html(j.copy);var k=a("<li></li>").addClass(c.lastClass).append("<ul></ul>");k.find("ul").append(j.toHide),b.append(k);var l=k.find("ul:first");a(document).on("click",function(b){a(b.target).closest(k).length||(l.removeAttr("style"),k.removeClass("active"))})}e=!1}function h(){a("."+c.lastClass).unbind("click"),b.html(d),e=!0}var b=a(this),d=b.find("> li"),e=!1,f=a(window).width();a(window).resize(function(){var b=a(window).width();return b<=c.minWidth?(e||h(),!0):(h(),void g())}),f>c.minWidth&&g()})}}(jQuery);
